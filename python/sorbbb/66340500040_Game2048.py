def Game2048(x, y):
    for i in range (len(y)):
        if y[i] == "1":
            for i1 in range(4):
                if x[i1][0] != 0:
                    if x[i1][0] == x[i1][1]:
                        x[i1][0] = x[i1][0] + x[i1][1]
                        x[i1][1] = 0
                    elif x[i1][0] == x[i1][2] and x[i1][1] == 0:
                        x[i1][0] = x[i1][0] + x[i1][2]
                        x[i1][2] = 0
                    elif x[i1][0] == x[i1][3] and x[i1][1] == 0 and x[i1][2] == 0:
                        x[i1][0] = x[i1][0] + x[i1][3]
                        x[i1][3] = 0
                if x[i1][1] != 0:
                    if x[i1][1] == x[i1][2]:
                        if x[i1][0] == 0:
                            x[i1][0] = x[i1][1] + x[i1][2]
                            x[i1][1] = 0
                            x[i1][2] = 0
                        else:
                            x[i1][1] = x[i1][1] + x[i1][2]
                            x[i1][2] = 0
                    elif x[i1][1] == x[i1][3] and x[i1][2] == 0:
                        if x[i1][0] == 0:
                            x[i1][0] = x[i1][1] + x[i1][3]
                            x[i1][1] = 0
                            x[i1][3] = 0
                        else:
                            x[i1][1] = x[i1][1] + x[i1][3]
                            x[i1][3] = 0
                    else:
                        if x[i1][0] == 0:
                            x[i1][0] = x[i1][1]
                            x[i1][1] = 0
                if x[i1][2] != 0:
                    if x[i1][2] == x[i1][3]:
                        if x[i1][1] == 0:
                            if x[i1][0] == 0:
                                x[i1][0] = x[i1][2] + x[i1][3]
                                x[i1][2] = 0
                                x[i1][3] = 0

                            else:
                                x[i1][1] = x[i1][2] + x[i1][3]
                                x[i1][2] = 0
                                x[i1][3] = 0
                        else:
                            x[i1][2] = x[i1][2] + x[i1][3]
                            x[i1][3] = 0
                    else:
                        if x[i1][1] == 0:
                            if x[i1][0] == 0:
                                x[i1][0] = x[i1][2]
                                x[i1][2] = 0
                            else:
                                x[i1][1] = x[i1][2]
                                x[i1][2] = 0
                if x[i1][3] != 0:
                    if x[i1][2] == 0:
                        if x[i1][1] == 0:
                            if x[i1][0] == 0:
                                x[i1][0] = x[i1][3]
                                x[i1][3] = 0
                            else:
                                x[i1][1] = x[i1][3]
                                x[i1][3] = 0
                        else:
                            x[i1][2] = x[i1][3]
                            x[i1][3] = 0
        if y[i] == "2":
            for i1 in range(4):
                if x[i1][3] != 0:
                    if x[i1][3] == x[i1][2]:
                        x[i1][3] = x[i1][3] + x[i1][2]
                        x[i1][2] = 0
                    elif x[i1][3] == x[i1][1] and x[i1][2] == 0:
                        x[i1][3] = x[i1][3] + x[i1][1]
                        x[i1][1] = 0
                    elif x[i1][3] == x[i1][0] and x[i1][2] == 0 and x[i1][1] == 0:
                        x[i1][3] = x[i1][3] + x[i1][0]
                        x[i1][0] = 0
                if x[i1][2] != 0:
                    if x[i1][2] == x[i1][1]:
                        if x[i1][3] == 0:
                            x[i1][3] = x[i1][2] + x[i1][1]
                            x[i1][2] = 0
                            x[i1][1] = 0
                        else:
                            x[i1][2] = x[i1][2] + x[i1][1]
                            x[i1][1] = 0
                    elif x[i1][2] == x[i1][0] and x[i1][1] == 0:
                        if x[i1][3] == 0:
                            x[i1][3] = x[i1][2] + x[i1][0]
                            x[i1][2] = 0
                            x[i1][0] = 0
                        else:
                            x[i1][2] = x[i1][2] + x[i1][0]
                            x[i1][0] = 0
                    else:
                        if x[i1][3] == 0:
                            x[i1][3] = x[i1][2]
                            x[i1][2] = 0
                if x[i1][1] != 0:
                    if x[i1][1] == x[i1][0]:
                        if x[i1][2] == 0:
                            if x[i1][3] == 0:
                                x[i1][3] = x[i1][1] + x[i1][0]
                                x[i1][1] = 0
                                x[i1][0] = 0

                            else:
                                x[i1][2] = x[i1][1] + x[i1][0]
                                x[i1][1] = 0
                                x[i1][0] = 0
                        else:
                            x[i1][1] = x[i1][1] + x[i1][0]
                            x[i1][0] = 0
                    else:
                        if x[i1][2] == 0:
                            if x[i1][3] == 0:
                                x[i1][3] = x[i1][1]
                                x[i1][1] = 0
                            else:
                                x[i1][2] = x[i1][1]
                                x[i1][1] = 0
                if x[i1][0] != 0:
                    if x[i1][1] == 0:
                        if x[i1][2] == 0:
                            if x[i1][3] == 0:
                                x[i1][3] = x[i1][0]
                                x[i1][0] = 0
                            else:
                                x[i1][2] = x[i1][0]
                                x[i1][0] = 0
                        else:
                            x[i1][1] = x[i1][0]
                            x[i1][0] = 0
        if y[i] == "3":
            for i1 in range(4):
                if x[0][i1] != 0:
                    if x[0][i1] == x[1][i1]:
                        x[0][i1] = x[0][i1] + x[1][i1]
                        x[1][i1] = 0
                    elif x[0][i1] == x[2][i1] and x[1][i1] == 0:
                        x[0][i1] = x[0][i1] + x[2][i1]
                        x[2][i1] = 0
                    elif x[0][i1] == x[3][i1] and x[1][i1] == 0 and x[2][i1] == 0:
                        x[0][i1] = x[0][i1] + x[3][i1]
                        x[3][i1] = 0
                if x[1][i1] != 0:
                    if x[1][i1] == x[2][i1]:
                        if x[0][i1] == 0:
                            x[0][i1] = x[1][i1] + x[2][i1]
                            x[1][i1] = 0
                            x[2][i1] = 0
                        else:
                            x[1][i1] = x[1][i1] + x[2][i1]
                            x[2][i1] = 0
                    elif x[1][i1] == x[3][i1] and x[2][i1] == 0:
                        if x[0][i1] == 0:
                            x[0][i1] = x[1][i1] + x[3][i1]
                            x[1][i1] = 0
                            x[3][i1] = 0
                        else:
                            x[1][i1] = x[1][i1] + x[3][i1]
                            x[3][i1] = 0
                    else:
                        if x[0][i1] == 0:
                            x[0][i1] = x[1][i1]
                            x[1][i1] = 0
                if x[2][i1] != 0:
                    if x[2][i1] == x[3][i1]:
                        if x[1][i1] == 0:
                            if x[0][i1] == 0:
                                x[0][i1] = x[2][i1] + x[3][i1]
                                x[2][i1] = 0
                                x[3][i1] = 0

                            else:
                                x[1][i1] = x[2][i1] + x[3][i1]
                                x[2][i1] = 0
                                x[3][i1] = 0
                        else:
                            x[2][i1] = x[2][i1] + x[3][i1]
                            x[3][i1] = 0
                    else:
                        if x[1][i1] == 0:
                            if x[0][i1] == 0:
                                x[0][i1] = x[2][i1]
                                x[2][i1] = 0
                            else:
                                x[1][i1] = x[2][i1]
                                x[2][i1] = 0
                if x[3][i1] != 0:
                    if x[2][i1] == 0:
                        if x[1][i1] == 0:
                            if x[0][i1] == 0:
                                x[0][i1] = x[3][i1]
                                x[3][i1] = 0
                            else:
                                x[1][i1] = x[3][i1]
                                x[3][i1] = 0
                        else:
                            x[2][i1] = x[3][i1]
                            x[3][i1] = 0
        if y[i] == "4":
            for i1 in range(4):
                if x[3][i1] != 0:
                    if x[3][i1] == x[2][i1]:
                        x[3][i1] = x[3][i1] + x[2][i1]
                        x[2][i1] = 0
                    elif x[3][i1] == x[1][i1] and x[2][i1] == 0:
                        x[3][i1] = x[3][i1] + x[1][i1]
                        x[1][i1] = 0
                    elif x[3][i1] == x[0][i1] and x[2][i1] == 0 and x[1][i1] == 0:
                        x[3][i1] = x[3][i1] + x[0][i1]
                        x[0][i1] = 0
                if x[2][i1] != 0:
                    if x[2][i1] == x[1][i1]:
                        if x[3][i1] == 0:
                            x[3][i1] = x[2][i1] + x[1][i1]
                            x[2][i1] = 0
                            x[1][i1] = 0
                        else:
                            x[2][i1] = x[2][i1] + x[1][i1]
                            x[1][i1] = 0
                    elif x[2][i1] == x[0][i1] and x[1][i1] == 0:
                        if x[3][i1] == 0:
                            x[3][i1] = x[2][i1] + x[0][i1]
                            x[2][i1] = 0
                            x[0][i1] = 0
                        else:
                            x[2][i1] = x[2][i1] + x[0][i1]
                            x[0][i1] = 0
                    else:
                        if x[3][i1] == 0:
                            x[3][i1] = x[2][i1]
                            x[2][i1] = 0
                if x[1][i1] != 0:
                    if x[1][i1] == x[0][i1]:
                        if x[2][i1] == 0:
                            if x[3][i1] == 0:
                                x[3][i1] = x[1][i1] + x[0][i1]
                                x[1][i1] = 0
                                x[0][i1] = 0

                            else:
                                x[2][i1] = x[1][i1] + x[0][i1]
                                x[1][i1] = 0
                                x[0][i1] = 0
                        else:
                            x[1][i1] = x[1][i1] + x[0][i1]
                            x[0][i1] = 0
                    else:
                        if x[2][i1] == 0:
                            if x[3][i1] == 0:
                                x[3][i1] = x[1][i1]
                                x[1][i1] = 0
                            else:
                                x[2][i1] = x[1][i1]
                                x[1][i1] = 0
                if x[0][i1] != 0:
                    if x[1][i1] == 0:
                        if x[2][i1] == 0:
                            if x[3][i1] == 0:
                                x[3][i1] = x[0][i1]
                                x[0][i1] = 0
                            else:
                                x[2][i1] = x[0][i1]
                                x[0][i1] = 0
                        else:
                            x[1][i1] = x[0][i1]
                            x[0][i1] = 0
    return x


if __name__ == "__main__":
    print(Game2048([[2, 0, 2, 2],
                    [0, 4, 2, 0],
                    [0, 0, 0, 0],
                    [0, 8, 4, 2]],
                   "134"))
    print(Game2048([[2, 0, 2, 2],
                    [4, 4, 8, 0],
                    [0, 0, 0, 2],
                    [4, 0, 4, 2]],
                   "4113"))
